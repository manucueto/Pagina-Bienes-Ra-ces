<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="Css/normalize.css">
    <link rel="stylesheet" href="Css/app.css"> <!--Mis estilos de ultimo-->
</head>
<body>
    <header class="site-header"> <!--Etiqueta para indicar que es un encabezado-->
        <div class="contenedor contenido-header">
            <div class="barra">
                <img src="img/logo.svg" alt="">
                <nav class="navegacion"> <!--  Etiqueta que se usa para indicar que es una sección de navegación-->
                    <a href="nosotros.html">Nosotros</a>
                    <a href="anuncios.html">Anuncios</a>
                    <a href="blog.html">Blogs</a>
                    <a href="contacto.html">Contacto</a>
                    <a href="propiedad.html">Añadir Propiedad</a>
                    <a href="admin.html">Administrar propiedades</a>
                </nav>
            </div>
        </div>
    </header>

    <form id="property-form" class="property-form">
        <p>Nombre de la propiedad</p>
        <input type="text" id="property-name">

        <p>Dirección</p>
        <input type="text" id="property-address">

        <p>Descripción</p>
        <input type="text" id="property-description">

        <p>Metros cuadrados</p>
        <input type="number" id="property-meters">

        <p>Numero de baños</p>
        <input type="number" id="property-baths">

        <p>Numero de habitaciones</p>
        <input type="number" id="property-rooms">

        <p>Estacionamiento</p>
        <input type="number" id="property-parking">
        
        <p>Precio</p>
        <input type="number" id="property-price">

        <button type="submit" class="boton boton-verde">Añadir Propiedad</button>
    </form>
    
    <footer class="footer"> <!--parte inferior de una seccion-->
        <nav class="navegacion">
            <a href="nosotros.html">Nosotros</a>
            <a href="anuncios.html">Anuncios</a>
            <a href="blog.html">Blogs</a>
            <a href="contacto.html">Contacto</a>
        </nav>
        <p>Todos los derechos reservados 2019 &copy</p>
    </footer>

    <script src="./apiservice.js"></script>
    <script>
        document.getElementById('property-form').addEventListener('submit', async function(event) {
            event.preventDefault();

            const houseData = {
                title: document.getElementById('property-name').value,
                location: document.getElementById('property-address').value,
                description: document.getElementById('property-description').value,
                price: parseFloat(document.getElementById('property-price').value),
                rooms: parseInt(document.getElementById('property-rooms').value),
                bathrooms: document.getElementById('property-baths').value,
                parking: parseInt(document.getElementById('property-parking').value),
                size: parseInt(document.getElementById('property-meters').value),
            };

            await crearCasa(houseData);
            document.getElementById('property-form').reset();
        });
    </script>
</body>
</html>